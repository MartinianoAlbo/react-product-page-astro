---
import type { ProductImage } from '@/lib/api';
import Gallery from './Gallery';

export interface Props {
  images: ProductImage[];
  productName: string;
}

const { images, productName } = Astro.props;

// Asegurar que siempre haya al menos una imagen
const galleryImages = images.length > 0 ? images : [{
  id: 0,
  src: '/placeholder.jpg',
  thumbnail: '/placeholder-thumb.jpg',
  alt: productName,
  title: productName,
  is_main: true
}];

const mainImage = galleryImages.find(img => img.is_main) || galleryImages[0];
---
<Gallery mainImage={mainImage} images={galleryImages} productName={productName} />